# Дипломная работа профессии «Тестировщик ПО». 

## Описание.
В данной работе было необходимо протестировать сервис покупки тура в "Марракеш". 
На данном веб-сервисе предоставлена возможность приобретения тура двумя способами: 

   1) Покупка тура по дебитовой карте.
   2) Покупка тура в кредит.
      
По условиям задачи в данном сервисе зарегистрировано всего две карты, которые имеют разный статус.

   1) *4444 4444 4444 4441 - имеет статус "Подтвержденная (Аpproved)".*
   2) *4444 4444 4444 4442 - имеет статус "Отклоненная (Declined)".*

Согластно задания нужно написать код автотестов, которые проверят работоспособность вышеуказанного веб-сервиса, 
а так же проверят данный сайт на наличие багов. Кроме того по условиям задачи необходимо проследить связь веб-сервиса 
с базой данных и установить корректность внесения информации, котороая отображается в БД после совершения покупки тура.
[Task Pages](https://github.com/netology-code/qa-diploma#readme).


  - [Plan.md](https://github.com/007Nick91/Diploma-Bondarenko/blob/main/docs/Plan.md)
  - [Report.md](https://github.com/007Nick91/Diploma-Bondarenko/blob/main/docs/Report.md)
  - [Summary.md](https://github.com/007Nick91/Diploma-Bondarenko/blob/main/docs/Summary.md)
 

### Инструкция.
 - Для того, чтобы получить копию данного проекта необходимо запустить программу "GitHub", пройти по ссылке [Проект](https://github.com/007Nick91/Diploma-Bondarenko/edit/main/). 
- После чего на основной странице проекта в правом верхнем углу найти и нажать на вкладку "Fork".
- После того как откроется страница в "OWNER" указать свою страницу от "GitHub", а в поле *Repository name*, указать название репозитория. Далее нажать *Create fork*, после чего копия данного репозитория появится в списке ваших репозиториев.
- После чего на локальном ПК нужно создать папку, открыть ее с помощью "Git Bash Here". Далее инициализировать *Git*, после чего на странице вашего *Fork* нажать кнопку *Code*, где во вкладке *Code* появится ссылка *SSH* которую необходимо скопировать и с помощью нее командой *git remote* связать свою локальную папку с скопированным репозиторием. Далее выполнить команду *git pull*.

## Необходимые программы:
 - Git
 - GitHub
 - IntelliJ IDEA
 - Docker
 - DBeaver
 - Google Chrome

## Пошаговый процесс установки и запуска:
После того как установленны все необходимые программы и осуществлено клонирование проекта необходимо выполнить следующие шаги:
  1. Открыть приложение **IntelliJ IDEA**, в появившемся списке выбрать проект *"Diploma-Bondarenko"*, после чего запускаем SUT с помошью команды в терминале:
     - MySQL:
             `java "-Dspring.datasource.url=jdbc:mysql://localhost:3306/app" -jar artifacts/aqa-shop.jar`
     - PostgreSQL:
             `java "-Dspring.datasource.url=jdbc:postgresql://localhost:5432/app" -jar artifacts/aqa-shop.jar`
       
  2. Для того чтобы одновременно запустить контейнера с "MySQL", "PostgreSQL" и "Node" нужно использовать команду:
     
            - `docker compose up --build`
     
  4. Для того чтобы открылся веб-сервис **"Путешествие дня"** необходимо запустить файла **"aqa-shop.jar"** с помощью команды:
     
            - `java -jar aqa-shop.jar`
     сервис будет доступен в браузере по адресу: http://localhost:8080/
     
  5. Для получения доступа к БД нужно открыть приложение **"DBeaver"**. Создать новое подключение, выбирать "MySQL" или "PostgreSQL". Далее в строке **Database** указать название *"app"*, в строке **Username** указать имя *"app"* и в строке **"Password"** указать пароль *"pass"*.
     
  6. В приложение **IntelliJ IDEA** запускаем автотесты с помощь команды:
       - MySQL:
             `./gradlew clean test "-Ddatasource.url=jdbc:mysql://localhost:3306/app"`
       - PostgreSQL:
             `./gradlew clean test "-Ddatasource.url=jdbc:postgresql://localhost:5432/app"`

  7. Генерируем отчёт по итогам тестирования с помощью Allure:

             - `./gradlew allureReport`
     (Для просмотра результатов автотеста нужно открыть вкладку **"build"** пройти по пути- *"build->reports->allureReport"* открыть ссылку *"index.html"*).
     
             - `./gradlew allureServe`
     (Данная команда автоматически откроет результаты в браузере).
     







[![Build status](https://ci.appveyor.com/api/projects/status/el4t9i31p1qpuyrd?svg=true)](https://ci.appveyor.com/project/007Nick91/diploma-bondarenko)
